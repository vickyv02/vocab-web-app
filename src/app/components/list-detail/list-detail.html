<div *ngIf="list$ | async as list; else loading">
    <h1>{{ list.name }}</h1>
    <p *ngIf="list.description">{{ list.description }}</p>

    <h2>Study</h2>
    <button (click)="startQuiz()">Multiple Choice Quiz</button>

    <form [formGroup]="addVocabForm" (ngSubmit)="addVocab()">
        <h2>Add New Vocab</h2>
        <input formControlName="vocab" placeholder="Vocab" required>
        <input formControlName="pronunciation" placeholder="Pronunciation (optional)">
        <input formControlName="translation" placeholder="Translation" required>
        <input formControlName="example" placeholder="Example (optional)">
        <select formControlName="category">
          <option value="noun">Noun</option>
          <option value="verb_adjective_adverb">Verb/Adjective/Adverb</option>
          <option value="phrase_idiom">Phrase/Idiom</option>
          <option value="other">Other</option>
        </select>
        <button type="submit" [disabled]="addVocabForm.invalid">Add</button>
    </form>

    <input type="file" (change)="onVocabFileSelected($event)" accept=".json,.txt">

    <button (click)="goBackToLists()">Back to Lists</button>

    <h2>Words ({{ list.itemCount }})</h2>
    <ul>
        <li *ngFor="let item of list.items">
            <strong>{{ item.vocab }}</strong> - {{ item.translation }} [{{ item.pronunciation }}]
            <br />
            <blockquote *ngIf="item.example">{{ item.example }}</blockquote>

            <button class="delete-item" (click)="deleteItem(item.id)">Delete</button>
        </li>

        <li *ngIf="list.itemCount === 0">No words yet. Add one below!</li>
    </ul>
</div>

<ng-template #loading>
  <p>Loading list...</p>
</ng-template>

<div *ngIf="!(list$ | async) && listId">
  <p>List not found.</p>
</div>