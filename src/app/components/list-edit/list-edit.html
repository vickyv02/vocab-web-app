<div class="container">
    <div *ngIf="list$ | async as list; else loading">
        <div class="card">
            <h2>Edit List</h2>
            <form [formGroup]="listForm" (ngSubmit)="saveList()">
                <div class="form-group">
                    <label for="name">Name</label>
                    <div class="input-group">
                        <input id="name" formControlName="name" placeholder="Name" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="description">Description</label>
                    <div class="input-group">
                        <textarea 
                            id="description" 
                            formControlName="description" 
                            placeholder="Description (optional)"
                            rows="3"
                            style="resize: vertical;"
                        ></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <label for="sourceLanguage">Source Language</label>
                    <div class="input-group">
                        <select id="language" formControlName="sourceLanguage">
                            <option value="en">English</option>
                            <option value="de">German</option>
                            <option value="zh">Chinese</option>
                            <option value="ko">Korean</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="targetLanguage">Target Language</label>
                    <div class="input-group">
                        <select id="language" formControlName="targetLanguage">
                            <option value="en">English</option>
                            <option value="de">German</option>
                            <option value="zh">Chinese</option>
                            <option value="ko">Korean</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn-primary" [disabled]="listForm.invalid || listForm.pristine">Save</button>
                <button type="button" class="btn-secondary" (click)="goBackToLists()">Cancel</button>
            </form>
        </div>
    </div>
</div>

<ng-template #loading>
  <p *ngIf="!(list$ | async)">Loading list...</p>
  <p *ngIf="!(list$ | async) && listId">List not found.</p>
</ng-template>